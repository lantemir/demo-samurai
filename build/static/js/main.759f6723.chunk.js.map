{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","assets/images/user.png","components/Users/users.module.css","assets/images/preloader.svg","hoc/withAuthRedirect.js","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","components/News/News.jsx","redux/users-reducer.js","components/Users/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/login/login.jsx","redux/app-reducer.js","hoc/withSuspense.js","App.js","redux/sidebar-reducer.js","redux/redux-store.js","serviceWorker.js","index.js","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FomsControls.js","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","Navbar","className","s","nav","item","activeClassName","activeLink","active","News","users","totalUsersCount","isFetching","followingInProgress","followSucces","unfollowSucces","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","map","u","followed","count","filter","User","user","src","photos","small","userPhoto","styles","disabled","some","onClick","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionpageNumber","rightPortionpageNumber","paginator","p","cn","selectedPage","pageNumber","key","e","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","Preloader","compose","bind","page","items","totalCount","Header","header","loginBlock","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","validate","required","component","Input","style","formSummaryError","length","stopSubmit","_error","formData","initialized","appReducer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","withRouter","app","promise","Promise","all","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","preloader","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","value","maxLengthCreator","maxLength","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost"],"mappings":"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","file":"static/js/main.759f6723.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"4e1a79fa-acf2-4911-a808-13cbbbe544b2\"\r\n    }\r\n})\r\n\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get( `users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });  \r\n    },\r\n    follow(userId) {\r\n        return instance.post(`https://social-network.samuraijs.com/api/1.0/follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete metod. Please profileAPI object.');\r\n        return profileAPI.getProfile(userId);    \r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n  \r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);            \r\n    },\r\n    getStatus (userId){\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, { status: status });\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n \r\n    me(){\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export const getUsers2 = (currentPage = 1, pageSize = 10) => {\r\n//     return instance.get(`follow?page=${currentPage}&count=${pageSize}`)\r\n//         .then(response => {\r\n//             return response.data;\r\n//         });  \r\n// }\r\n\r\n\r\n\r\n\r\n\r\n//.then(response => response.data);  ","\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Димыч' },\r\n        { id: 2, name: 'Андрей' },\r\n        { id: 3, name: 'Темир' },\r\n        { id: 4, name: 'Маке' },\r\n        { id: 5, name: 'Виктор' },\r\n        { id: 6, name: 'Валера' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'hi' },\r\n        { id: 2, message: 'How are your it' },\r\n        { id: 3, message: 'you' },\r\n        { id: 4, message: 'yo' },\r\n        { id: 5, message: 'yo' }\r\n    ],\r\n    \r\n}    \r\n\r\n const dialogsReducer = (state = initialState, action) => {\r\n\r\n   \r\n\r\n        switch(action.type){   \r\n            \r\n            case SEND_MESSAGE:\r\n                let body = action.newMessageBody;   \r\n                return {\r\n                    ...state,                  \r\n                    messages: [...state.messages, {id:6, message: body}]\r\n                };                    \r\n            \r\n            default:\r\n                return state;\r\n        }      \r\n        \r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: 'SEND_MESSAGE', newMessageBody})\r\n\r\n\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/user.6db09181.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2oMOp\",\"selectedPage\":\"users_selectedPage__19jZm\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.8c2f01dc.svg\";","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({    \r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3wcBZ\",\"item\":\"Navbar_item__3cHZi\",\"active\":\"Navbar_active__2nlN8\",\"activeLink\":\"Navbar_activeLink__2Mb2X\"};","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n    <nav className={s.nav}>\r\n        <div className={s.item}>            \r\n            <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>            \r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>            \r\n        </div>\r\n\r\n        <div className={s.item}>\r\n            <NavLink to=\"/news\">News</NavLink>            \r\n        </div>\r\n        <div className={s.item}>\r\n            <a>Music</a>\r\n        </div>\r\n        <div className={s.item}>\r\n            <a>Settings</a>\r\n        </div>\r\n        \r\n    </nav>\r\n\r\n    )\r\n}\r\n\r\nexport default Navbar","import React from 'react';\r\n\r\n\r\nconst News = () => {\r\n\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\nexport default News;","import {usersAPI} from '../api/api';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURENT_PAGE = 'SET_CURENT_PAGE';  \r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0, \r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n      \r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case FOLLOW: \r\n            return {\r\n                ...state, \r\n                users: state.users.map(u => { \r\n                    if(u.id === action.userId){\r\n                        return{...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state, \r\n                users: state.users.map(u => { \r\n                    if(u.id === action.userId){\r\n                        return{...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:{\r\n            return  {...state, users: action.users}\r\n        }\r\n        case SET_CURENT_PAGE:{\r\n            return{\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT:{\r\n            return{\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING:{\r\n            return{\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:{\r\n            return{\r\n                ...state, \r\n                followingInProgress: action.isFetching ? [...state.followingInProgress, action.userId]\r\n                                                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n         return state;\r\n    } \r\n}\r\n\r\nexport const followSucces  = (userId) => ( {type: FOLLOW, userId}  ); // тоже самое как нижняя функция // вверху сохранил в const\r\nexport const unfollowSucces = (userId) => ({type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) =>({type: SET_CURENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId ) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\n//санка функция\r\nexport const requestUsers = (page, pageSize) => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize)\r\n        \r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n        \r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId,apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n\r\n}\r\n\r\n\r\n\r\nexport const follow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI),  followSucces);                 \r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId,  usersAPI.unfollow.bind(usersAPI),  unfollowSucces);\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","import React from 'react';\r\nimport userPhoto from '../../../src/assets/images/user.png';\r\nimport styles from './users.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nlet User = ({user,followingInProgress, unfollow, follow}) => {\r\n\r\n    let u = user;\r\n\r\n    return (\r\n\r\n        <div >\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos.small != null ? u.photos.small : userPhoto} className={styles.userPhoto}></img>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {u.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === u.id)}\r\n                            onClick={() => { unfollow(u.id); }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === u.id)}\r\n                            onClick={() => { follow(u.id); }}>Follow</button>}\r\n                </div>\r\n            </span>\r\n\r\n\r\n            <span>\r\n                <span>\r\n                    <div>{u.name} </div>\r\n                    <div>{u.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"u.location.country\"}</div>\r\n                    <div>{\"u.location.city\"}</div>\r\n                </span>\r\n            </span>\r\n\r\n        </div>       \r\n    )\r\n} \r\n\r\nexport default User","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from \"classnames\";\r\n\r\n\r\n\r\nlet Paginator = ({totalItemsCount,pageSize,currentPage, onPageChanged,  portionSize ='10'}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionpageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let  rightPortionpageNumber = portionNumber * portionSize;\r\n\r\n    return(      \r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 &&\r\n                <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n            {pages\r\n                .filter(p => p >= leftPortionpageNumber && p <= rightPortionpageNumber)\r\n                .map(p => {\r\n                    return <span className={cn({\r\n                        [styles.selectedPage]: currentPage === p\r\n                    }, styles.pageNumber)}\r\n                        key={p}\r\n                        onClick={(e) => {\r\n                            onPageChanged(p);\r\n                        }}>{p}</span>\r\n                })}\r\n\r\n            {portionCount > portionNumber &&\r\n                <button onClick={() => {setPortionNumber(portionNumber+1) }}>NEXT</button> \r\n            }    \r\n        </div>             \r\n    )\r\n} \r\n\r\nexport default Paginator","import React from 'react';\r\nimport User from './User';\r\nimport Paginator from '../common/Paginator/Paginator';\r\n\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\r\n  \r\n\r\n    return (\r\n        <div>\r\n\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n\r\n            <div>\r\n                {\r\n                    users.map(u => <User user={u}\r\n                        followingInProgress={props.followingInProgress}\r\n                        key={u.id}\r\n                        unfollow={props.unfollow}\r\n                        follow={props.follow}\r\n                    />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\n// export const getUsers = (state) => {\r\n//     return state.usersPage.users;\r\n// }\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector( getUsersSelector, (users) => { //createSelector реселектор\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount  = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage  = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching  = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress  = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { unfollow, follow,  setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer';\r\nimport * as axios from 'axios';\r\nimport Users from './Users';\r\nimport Preloader from '../../components/common/Preloader/Preloader';\r\nimport {usersAPI} from '../../api/api';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport {getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from './../../redux/users-selectors';\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n  \r\n   \r\n    componentDidMount(){\r\n        const {currentPage,pageSize} = this.props;\r\n\r\n        this.props.requestUsers(currentPage, pageSize);\r\n        \r\n\r\n        \r\n    }\r\n\r\n     onPageChanged = (pageNumber) => {\r\n\r\n        const {pageSize} = this.props;\r\n\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n\r\n     }    \r\n\r\n     render() {      \r\n        return <>\r\n            {this.props.isFetching ? \r\n            <Preloader/>\r\n             :null}\r\n           <Users totalUsersCount={this.props.totalUsersCount}\r\n                     pageSize={this.props.pageSize}\r\n                     currentPage={this.props.currentPage}\r\n                     onPageChanged={this.onPageChanged}\r\n                     users={this.props.users}\r\n                     unfollow={this.props.unfollow}\r\n                     follow={this.props.follow}\r\n                    \r\n                     followingInProgress={this.props.followingInProgress}\r\n            /> \r\n        </>           \r\n     }\r\n\r\n }\r\n\r\n\r\n// let mapStateToProps = (state) =>{      \r\n//     return{\r\n//         users: state.usersPage.users, //отправка в props Users.jsx     \r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,     \r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress,\r\n//     }\r\n// }\r\n\r\n\r\nlet mapStateToProps = (state) =>{      \r\n    return{\r\n       // users: getUsers(state), //отправка в props Users.jsx     \r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),     \r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default compose( \r\n    connect(mapStateToProps,\r\n    {follow, unfollow,  setCurrentPage,  toggleFollowingProgress, requestUsers})\r\n    (UsersContainer));\r\n\r\n\r\n\r\n\r\n    //  onPageChanged = (pageNumber) => {\r\n\r\n    //     this.props.getUsers(pageNumber, this.props.pageSize);\r\n\r\n\r\n        //  this.props.setCurrentPage(pageNumber);\r\n        //  this.props.toggleIsFetching(true);\r\n        //  usersAPI.getUsers(pageNumber, this.props.pageSize)\r\n        //      .then(data => {\r\n        //         this.props.toggleIsFetching(false);\r\n        //          this.props.setUsers(data.items)\r\n        //      }); было так рефакторинг\r\n   //  }  \r\n\r\n\r\n\r\n     // let mapDispatchToProps = (dispatch) =>{\r\n//     return{\r\n//         follow: (userId) =>{    \r\n//             dispatch(followAC(userId));\r\n//         },\r\n//         unfollow: (userId) =>{\r\n//             dispatch(unfollowAC(userId));\r\n//         }, \r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users));\r\n//         },\r\n//         setCurrentPage: (curentPage) => {\r\n//             dispatch(setCurentPageAC(curentPage));\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setUsersTotalCountAC(totalCount));\r\n//         },\r\n//         toggleIsFetching: (isFetching) =>{\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }// потимизация для connect\r\n\r\n\r\n    // export default connect(mapStateToProps, {\r\n    //     follow: follow,\r\n    //     unfollow: unfollow,\r\n    //     setUsers: setUsers,\r\n    //     setCurrentPage: setCurentPage,\r\n    //     setTotalUsersCount: setUsersTotalCount,\r\n    //     toggleIsFetching: toggleIsFetching\r\n    //     })(UsersContainer);\r\n\r\n\r\n    // let name = 15;\r\n    // let user = {\r\n    //     name :name\r\n    // }\r\n\r\n    // let name = 15;\r\n    // let user = {\r\n    //     name\r\n    // }\r\n    //сокращенный синтаксис","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return( <header className={s.header}>\r\n        <img src='data:image/jpeg;base64,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'></img>\r\n        \r\n        <div className={s.loginBlock}>\r\n            { props.isAuth \r\n            ? <div>{ props.login} - <button onClick={props.logout}>Log out</button></div> \r\n                :<NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n    )\r\n}\r\n\r\nexport default Header","import {authAPI} from './../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email:null,\r\n    login: null, \r\n    isAuth: false  \r\n   \r\n};\r\n      \r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case SET_USER_DATA: \r\n            return {\r\n                ...state, \r\n                ...action.payload // перезатрёт стэйт\r\n                \r\n               \r\n            }\r\n\r\n        \r\n        default:\r\n         return state;\r\n    } \r\n}\r\n\r\nexport const setAuthUserData  = (userId, email, login, isAuth) => ( {type: SET_USER_DATA, payload: {userId, email, login, isAuth}}  ); // тоже самое как нижняя функция // вверху сохранил в const\r\n\r\nexport const getAuthUserData = () => async (dispatch) =>{\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;// деструктуризация\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\r\n} \r\n\r\n\r\n// санка. фукция которая принимает параметры и возвращает санку. у санки есть досту к параметрам первым\r\nexport const login = (email, password, rememberMe) => async (dispatch) =>{\r\n\r\n    //let action = stopSubmit(\"login\",{email: \"Coomon erroe\" });  //const LoginReduxForm = reduxForm({ form: 'login'})(LoginForm) отсюда 'login' берётся\r\n    \r\n \r\n   let response = await authAPI.login(email, password, rememberMe);\r\n        \r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            }\r\n            else{\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0]: \"Some error\";\r\n                dispatch(stopSubmit(\"login\", {_error: message }));\r\n            }\r\n      \r\n} \r\n\r\nexport const logout = () => async (dispatch) =>{\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n        \r\n} \r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\n\r\nimport {connect} from 'react-redux';\r\nimport { logout} from './../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    \r\n\r\n\r\n    render(){\r\n        return<Header {...this.props}/> \r\n    }\r\n   \r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout}) (HeaderContainer)","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport {Input} from '../common/FormsControls/FomsControls'\r\nimport { connect } from 'react-redux';\r\nimport {login} from './../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\";\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return(     \r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"} name={\"email\"} \r\n                        validate={[required]}\r\n                        component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"Password\"} name={\"password\"} validate={[required]} component={Input} type={\"password\"}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"}/>remember me\r\n            </div>\r\n            { error && <div className={ style.formSummaryError }>            \r\n                {error}\r\n            </div>\r\n            }   \r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n   \r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login'})(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe); //колбек это не нижняя функция, это колбек. Она внутри себя вызывает диспачер нижний функции\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    \r\n    return( \r\n    <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps,{login}) (Login); // законекченную компоненту возвращает по дефолту \r\n// {login} это, здесь санк криэйтер","import {authAPI} from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nimport { getAuthUserData } from './auth-reducer';\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    initialized: false   \r\n};\r\n      \r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case INITIALIZED_SUCCESS: \r\n            return {\r\n                ...state, \r\n                initialized: true               \r\n            }\r\n        \r\n        default:\r\n         return state;\r\n    } \r\n}\r\n\r\nexport const initializedSuccess  = () => ( {type: INITIALIZED_SUCCESS}); \r\n\r\nexport const initializeApp = () =>(dispatch) =>{\r\n    let promise  = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n\r\n        dispatch(initializedSuccess());\r\n    });\r\n} \r\n\r\nexport default appReducer;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense> \r\n    };\r\n}","import React, { Component } from 'react';\nimport './App.css';\n\nimport Navbar from './components/Navbar/Navbar';\n//import DialogsContainer from './components/Dialogs/DialogsContainer'; \nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport News from './components/News/News';\nimport UsersContainer from './components/Users/UsersContainer';\n// import { addPost } from './redux/state';\n//import ProfileContainer from './components/Profile/ProfileContainer'; // обычная загрузка\n//const ProfileContainer = React.lazy(()=> import('./components/Profile/ProfileContainer')); // линивая загрузка\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/login/login';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\n\nimport{initializeApp} from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { withSuspense } from './hoc/withSuspense';\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));  //lasy загрузка подгрузится тогда когда нужно использовать\nconst ProfileContainer = React.lazy(()=> import('./components/Profile/ProfileContainer'));\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n\n    if(!this.props.initialized){\n      return <Preloader/>\n    }\n   \n \n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n\n          <Route path='/dialogs'\n            render={withSuspense(DialogsContainer)}/>\n\n          <Route path='/profile/:userId?'\n            render={withSuspense(ProfileContainer)}/>\n\n          <Route path='/news' render={() => <News />} />\n\n          <Route path='/users' render={() => <UsersContainer />} />\n\n          <Route path='/login' render={() => <LoginPage />} />\n\n        </div>\n\n      </div>\n\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose (\n  withRouter, \n  connect(mapStateToProps, {initializeApp})) (App); \n\n// ctrl klik переход в класс\n\n//auto import плагин для авто импорта"," let initialState = {};\r\n \r\n \r\n const sidebarReducer = (state = initialState, action) => {\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\"; \r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"; \r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer, \r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\n// import store from './redux/store';\r\nimport store from './redux/redux-store';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\n\r\n  ReactDOM.render(\r\n    <BrowserRouter>\r\n      <Provider store={store}>\r\n      <React.StrictMode>\r\n        <App /> \r\n      </React.StrictMode>\r\n      </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root')\r\n  );\r\n\r\n\r\n//rerenderEntireTree(store.getState());\r\n\r\n// store.subscribe ( () => {\r\n//   //let state = store.getState();\r\n//   rerenderEntireTree(state);\r\n// });  перерисовка\r\n\r\n\r\n\r\nserviceWorker.unregister();","import React from 'react';  \r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\nlet Preloader = (props) => {\r\n   return <div>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__EJFM1\",\"error\":\"FormsControls_error__1yukd\",\"formSummaryError\":\"FormsControls_formSummaryError__1-WRA\"};","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    \r\n    return(\r\n        <div className= {styles.formControl + \" \" + (hasError? styles.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>                  \r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport  const Textarea = (props) => {    \r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restProps}/> </FormControl>    \r\n}\r\n\r\nexport  const Input = (props) => {    \r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}> <input {...input} {...restProps}/> </FormControl>    \r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__KMn7z\",\"paginator\":\"Paginator_paginator__WqqAW\",\"pageNumber\":\"Paginator_pageNumber__1L7By\"};","export const required = value => {\r\n    if(value) return undefined;\r\n\r\n    return \"Field isrequired\";\r\n}\r\n\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\n\r\n// export const maxLength30 = value => {\r\n//     if(value.length > 30) return \"Max length is 30 symbols\";\r\n\r\n//     return undefined;\r\n// }\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Q1r0\",\"loginBlock\":\"Header_loginBlock__2-Rba\"};","import {usersAPI} from \"./../api/api\"\r\nimport {profileAPI} from \"./../api/api\"\r\n\r\nconst ADD_POST = 'ADD-POST';\r\n\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\n//моя работа\r\n// const ADD_NEW_POST = 'ADD_NEW_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Hi, how are you?', likesCount: 11 },\r\n        { id: 2, message: \"It's my first post\", likesCount: 77 },\r\n        { id: 3, message: 'bla bla bla', likesCount: 11 },\r\n        { id: 4, message: \"da da\", likesCount: 77 },\r\n    ],\r\n   \r\n    profile: null,\r\n    status: \"\"        \r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type){\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };           \r\n        }        \r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status   \r\n            };                \r\n        }\r\n        case SET_USER_PROFILE:{\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n\r\n        //моя работа\r\n        // case ADD_NEW_POST:{\r\n        //     let newPostAdd = {\r\n        //         id: 9,\r\n        //         message: action.profilePost,\r\n        //         likesCount: 0\r\n        //     };\r\n        //     return {\r\n        //         ...state,\r\n        //         posts: [...state.posts, newPostAdd],                \r\n        //     };           \r\n        // }\r\n\r\n        default :\r\n         return state;\r\n    } \r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ( {type: 'ADD-POST', newPostText} ); // тоже самое как нижняя функция // вверху сохранил в const\r\n// export const updateNewPostTextActionCreator = (text) => {    \r\n//     return {\r\n//         type: 'UPDATE-NEW-POST-TEXT',\r\n//         newText: text\r\n//     }\r\n// };\r\nexport const setUserProfile = (profile) => ({type: 'SET_USER_PROFILE', profile});\r\nexport const setStatus = (status) => ({type: 'SET_STATUS', status});\r\n\r\n\r\nexport const getUserProfile = (userId) => (dispatch) =>{\r\n    usersAPI.getProfile(userId).then( response => {\r\n        dispatch( setUserProfile(response.data));\r\n       });     \r\n} \r\n\r\nexport const getStatus = (userId) => (dispatch) =>{\r\n    profileAPI.getStatus(userId)\r\n    .then( response =>{ \r\n       \r\n        dispatch(setStatus(response.data))\r\n    });     \r\n} \r\n\r\nexport const updateStatus = (status) => (dispatch) =>{\r\n    profileAPI.updateStatus(status)    \r\n    .then( response => {                 \r\n         if(response.data.resultCode === 0){                      \r\n             dispatch(setStatus(status));                       \r\n        }         \r\n    });     \r\n} \r\n\r\n// // моя пабота\r\n// export const addPostAC = (profilePost) =>\r\n//     ({type: 'ADD_NEW_POST', profilePost});\r\n\r\n\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}