(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(73),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4e1a79fa-acf2-4911-a808-13cbbbe544b2"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("https://social-network.samuraijs.com/api/1.0/follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete metod. Please profileAPI object."),o.getProfile(e)}},o={getProfile:function(e){return r.get("profile/"+e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})}},u={me:function(){return r.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("auth/login")}}},125:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(39),r=n(8),c={dialogs:[{id:1,name:"\u0414\u0438\u043c\u044b\u0447"},{id:2,name:"\u0410\u043d\u0434\u0440\u0435\u0439"},{id:3,name:"\u0422\u0435\u043c\u0438\u0440"},{id:4,name:"\u041c\u0430\u043a\u0435"},{id:5,name:"\u0412\u0438\u043a\u0442\u043e\u0440"},{id:6,name:"\u0412\u0430\u043b\u0435\u0440\u0430"}],messages:[{id:1,message:"hi"},{id:2,message:"How are your it"},{id:3,message:"you"},{id:4,message:"yo"},{id:5,message:"yo"}]},o=function(e){return{type:"SEND_MESSAGE",newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var n=t.newMessageBody;return Object(r.a)({},e,{messages:[].concat(Object(a.a)(e.messages),[{id:6,message:n}])});default:return e}}},132:function(e,t,n){e.exports=n.p+"static/media/user.6db09181.png"},133:function(e,t,n){e.exports={userPhoto:"users_userPhoto__2oMOp",selectedPage:"users_selectedPage__19jZm"}},135:function(e,t,n){e.exports=n.p+"static/media/preloader.8c2f01dc.svg"},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(27),r=n(28),c=n(30),o=n(29),u=n(0),i=n.n(u),s=n(23),l=n(9),A=function(e){return{isAuth:e.auth.isAuth}},E=function(e){var t=function(t){Object(c.a)(u,t);var n=Object(o.a)(u);function u(){return Object(a.a)(this,u),n.apply(this,arguments)}return Object(r.a)(u,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(s.a,{to:"/login"})}}]),u}(i.a.Component);return Object(l.b)(A)(t)}},165:function(e,t,n){e.exports=n(291)},170:function(e,t,n){},171:function(e,t,n){},18:function(e,t,n){e.exports={nav:"Navbar_nav__3wcBZ",item:"Navbar_item__3cHZi",active:"Navbar_active__2nlN8",activeLink:"Navbar_activeLink__2Mb2X"}},291:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(63),o=n.n(c),u=(n(170),n(27)),i=n(28),s=n(30),l=n(29),A=(n(171),n(18)),E=n.n(A),f=n(14),m=function(){return r.a.createElement("nav",{className:E.a.nav},r.a.createElement("div",{className:E.a.item},r.a.createElement(f.b,{to:"/profile",activeClassName:E.a.activeLink},"Profile")),r.a.createElement("div",{className:"".concat(E.a.item," ").concat(E.a.active)},r.a.createElement(f.b,{to:"/dialogs",activeClassName:E.a.activeLink},"Messages")),r.a.createElement("div",{className:"".concat(E.a.item," ").concat(E.a.active)},r.a.createElement(f.b,{to:"/users",activeClassName:E.a.activeLink},"Users")),r.a.createElement("div",{className:E.a.item},r.a.createElement(f.b,{to:"/news"},"News")),r.a.createElement("div",{className:E.a.item},r.a.createElement("a",null,"Music")),r.a.createElement("div",{className:E.a.item},r.a.createElement("a",null,"Settings")))},d=n(23),g=function(){return r.a.createElement("div",null,"News")},p=n(9),b=n(13),v=n.n(b),h=n(24),B=n(39),P=n(8),Q=n(10),I={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},j=function(e){return{type:"FOLLOW",userId:e}},O=function(e){return{type:"UNFOLLOW",userId:e}},S=function(e){return{type:"SET_CURENT_PAGE",currentPage:e}},C=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},w=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},y=function(){var e=Object(h.a)(v.a.mark((function e(t,n,a,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!0,n)),e.next=3,a(n);case 3:0==e.sent.data.resultCode&&t(r(n)),t(w(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(P.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(P.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(P.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(P.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(P.a)({},e,{users:t.users});case"SET_CURENT_PAGE":return Object(P.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(P.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(P.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(P.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(B.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},N=(n(73),n(43)),z=n(132),x=n.n(z),H=n(133),T=n.n(H),G=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,c=e.follow,o=t;return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(f.b,{to:"/profile/"+o.id},r.a.createElement("img",{src:null!=o.photos.small?o.photos.small:x.a,className:T.a.userPhoto}))),r.a.createElement("div",null,o.followed?r.a.createElement("button",{disabled:n.some((function(e){return e===o.id})),onClick:function(){a(o.id)}},"Unfollow"):r.a.createElement("button",{disabled:n.some((function(e){return e===o.id})),onClick:function(){c(o.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,o.name," "),r.a.createElement("div",null,o.status)),r.a.createElement("span",null,r.a.createElement("div",null,"u.location.country"),r.a.createElement("div",null,"u.location.city"))))},k=n(67),M=n(128),U=n(69),Y=n.n(U),D=n(134),R=n.n(D),J=function(e){for(var t=e.totalItemsCount,n=e.pageSize,c=e.currentPage,o=e.onPageChanged,u=e.portionSize,i=void 0===u?"10":u,s=Math.ceil(t/n),l=[],A=1;A<=s;A++)l.push(A);var E=Math.ceil(s/i),f=Object(a.useState)(1),m=Object(M.a)(f,2),d=m[0],g=m[1],p=(d-1)*i+1,b=d*i;return r.a.createElement("div",{className:Y.a.paginator},d>1&&r.a.createElement("button",{onClick:function(){g(d-1)}},"PREV"),l.filter((function(e){return e>=p&&e<=b})).map((function(e){return r.a.createElement("span",{className:R()(Object(k.a)({},Y.a.selectedPage,c===e),Y.a.pageNumber),key:e,onClick:function(t){o(e)}},e)})),E>d&&r.a.createElement("button",{onClick:function(){g(d+1)}},"NEXT"))},Z=function(e){var t=e.currentPage,n=e.totalUsersCount,a=e.pageSize,c=e.onPageChanged,o=e.users,u=Object(N.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return r.a.createElement("div",null,r.a.createElement(J,{currentPage:t,onPageChanged:c,totalItemsCount:n,pageSize:a}),r.a.createElement("div",null,o.map((function(e){return r.a.createElement(G,{user:e,followingInProgress:u.followingInProgress,key:e.id,unfollow:u.unfollow,follow:u.follow})}))))},F=n(38),q=(n(139),n(7)),W=n(136),X=Object(W.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),V=function(e){return e.usersPage.pageSize},K=function(e){return e.usersPage.totalUsersCount},_=function(e){return e.usersPage.currentPage},$=function(e){return e.usersPage.isFetching},ee=function(e){return e.usersPage.followingInProgress},te=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.requestUsers(t,n)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(F.a,null):null,r.a.createElement(Z,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress}))}}]),n}(r.a.Component),ne=Object(q.d)(Object(p.b)((function(e){return{users:X(e),pageSize:V(e),totalUsersCount:K(e),currentPage:_(e),isFetching:$(e),followingInProgress:ee(e)}}),{follow:function(e){return function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(n,e,Q.c.follow.bind(Q.c),j);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(h.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(n,e,Q.c.unfollow.bind(Q.c),O);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:S,toggleFollowingProgress:w,requestUsers:function(e,t){return function(){var n=Object(h.a)(v.a.mark((function n(a){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(C(!0)),a(S(e)),n.next=4,Q.c.getUsers(e,t);case 4:r=n.sent,a(C(!1)),a({type:"SET_USERS",users:r.items}),a({type:"SET_TOTAL_USERS_COUNT",count:r.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(te)),ae=n(91),re=n.n(ae),ce=function(e){return r.a.createElement("header",{className:re.a.header},r.a.createElement("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQEhMQDxMQEA8SEBUQEhIQEBAQGBYRFREWFhURExUYHSggGB0lGxUVITEhJikrLi4uFx8zODMtOCktLi4BCgoKDg0OGxAQGy0lHyYuLSsvKy0tLS8tLS0tLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLf/AABEIAOEA4QMBEQACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABAUCAwYHAf/EAEkQAAEDAgQCBQYKBwUJAAAAAAEAAgMEEQUGEiETMQdBUWFxIjJSgZGhFBUjQnJzgpLB0SQlM2Kxs7Q0NqLh8DVjZHSTssLDxP/EABsBAQACAwEBAAAAAAAAAAAAAAABAwIEBQYH/8QAOxEBAAIBAwICBwYEAwkAAAAAAAECAwQFERIxIUETIjJRYYGxFDRCcZHBBjOh0VLh8BUjJCU1Q0Vigv/aAAwDAQACEQMRAD8A9xQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAlBXYjijYges9+wQed1maKqeQuZI+OIbMDDpuPSNu1ed1uvv18UniIbNMcceLbBjtYOU8h8dLv4haX+0M8fiZ+jqt6PNVSPPDJB3jSfaNvcr6b1mr7URP9GM4YnsvqHMkL9ngxHv3H3h+K6WDd8GTwt4T8VVsNoXLHgi4IIPIjddSsxMcwqZLIEBAQEBAQEBAQEBAQEBAQEBAQEBBrlmDdubjyAQRK6r0N3O/wDBB57mfEi/5Np3edP2fnH2betaOvz+ixTx3lZjrzKshitYDkvJ2s20yKNVTKUqNirmWSVGxVzIscPqpIj5B262ncH1La0u45dPPqzzHuYWxRZ09BXtlHov62n+I7V67Rbhi1VfV7+cNS+OaymLfViAgICAgICAgICAgICAgICAgIINdX6DoZ5Uh6upo7T+SDBg4TS95u87klByWP4rz3QcnATK8vPIeSPxXmt2zdWTp9zZw18FjFGuLMr0uNirmUpMbFXMpSo2KuZSkMYq5lKRG0jcXBHIja3eFOLNfFeL0niYRNYmOJXeHV+s6H7SWuOoOA5kd/aF7rbNxrq6ePtR3ho5cfRKwXUVCAgICAgICAgICAgICAgICCsxfEuFZjN5nch6I9I/gEGrDqXhgyP3cdyTzJ7SgpsexXmAUHn+K1xcdI5lV5ckY6TaUxHM8LPD6bS0Du38V4jPlm95tLerHEcLCNi15lkkxxquZSlRsVcymEhjFXMpSGNWEyNzWrGR8lZcbEtcDqa4c2uHJwV+l1N9PljJSUXrFo4lc4VXcZm9hIw6JG9jh1juPMeK+jafPXPjjJXzc21emeE1XoEBAQEBAQEBAQEBAQEBBCxWvEDL83nZje135BBWYTREkyym7nG7iUGvHMTDRYIPO8cxTmSQBzJJsg5Crqat1S2npA3jGPikyabBv2th1e0LnZsuHJjm+T2eePmsiJieI7rOjzNO+gq5HBsdXSnQ4hoIvqAvpNx6Qt3LlX0GKuqx1jxpZdGSemffCyyXmCSeinnncHSQOk1ENa3ZsYe3YbddvUtfcNFXHqa0pHhbhljvM1mZVeWc1Vs1FXzyyNMtPC18R4cY0uLXE3AFjyHNbWs2/BTUYqVjwtPiwpktNZlvx/N1ZBQ4dUse3iTtc6b5OM6tNjYAjyfUsdPt2DJqMuOY8I7fBNstorWXRYnmCYYhhsMLwKaridI8aWnUNLi2ziLjq5Ln4tFj+y5rXj1q+ELJvPXER5qzG8z4rNU1UeGNiENB+2Lwwl5aCXW1eDrAW83nutnTbfo8eGltRM837MLZLzM9Pk7LJmO/GFJFU6Qxzrte0XsHtcWu036tr+tcXcdJ9lzzjjt3XY79VeV2tFY0NqOBMyX5jyIZfWfIf6jcesL0/wDD2r4tOC35w1dRTw6nVBeuaggICAgICAgICAgICAgxkeGgucbAC5Pcg56nidUymV+zRswHqb+Z5oNuN4pHA2xc1g7yBdYWvWsczKeJl5vmTHzw5JY2l4Ywv3u0Gw7T+S1ft+GbxSvjyy9HPHKswjDo62nimqWh/EaJNF3BoNzbkd1x9dr89M1qUnt4LqUrxzLVTM/XZH/A/iFhaf8AlsT/AOyY/m/JS0g/Rcb7p/8A2uW7f+fpvyYR7NkPB6g01FiEW95qWllj7+OA02+/7lfqMfps+PJ/hmefkxrPTWYT8u0vCosajPOOMMPiA9Uay/VqdPb3yypHFbQ243SiWgwKI7CV4iJ7Nbmtv71Glt06rUW9xf2avuXqlz63BYn/ALWm+EUjx2GJ0gA+7ZRq8cV02otHa3E/qUn1qrXC62WCXHpIYRUvFUAYjqs6Nz3iQnTvYNJPqWrlxUy000Xt0+r3ZczE24db0Z1kc1AySKGOmYZJAIonPc0EPsSC4k781x96x2pqpi1uZ4jxldhnmrqVylyPXQ8SN7OstNu53Np9oC2NJlnFmrePewvHNZhdZdrONTxvPPSAfEBfS6zzHLmrJSCAgICAgICAgICAgIOXzlj0dOGxEOe53lFjOZAOwJ5AXHuWrn1dMPtd2VazLj6jMdZKNLXimj9GHzrd8h39llxs26ZLez4L64oQI6YE6nXc7rc8lx9pXLyZr3nm0rYrEGL0LpaaaJltb4nNb9It2CabLFM1bW7RJaOazDgPhktVBS4ZHBK2eKQB5cCAA3ULnrGxub9nWvQ+ix4sl9Ta0cTDW5mYivDpMxVDsPxJlc+KSWnfTcG8Y5OHUSdgdhz53PYtDSVrqtJOCJiJi3Ky/NL9XCDh9HL8V4nUyMdGKp/Eja4G+nXe9uy7rDtsrsuWn2zBjrPPT3RET0WlHrcJc+TBQ2+mppaaOTnYiF7XG/2T7lbj1Na11HP4Zn+qJrz0rOkaeFmLb5z7fekWtkmPSaRlHa75XNPwXLvP+0R3/wCtGs8Ux6bVfP6Sie1W2rws0+ZIiAdE0vwhuxtd8Lw//G13tVVM8Zdpt74jj9JT08ZYfMRxWTCavE2S08sja/U+nezzTqDgL9ttZBA325bqcWGmtwYbVvEdHdEzNLTzHd2nRjhctLh0MczSyQl8haRYtD3ktDh1G1tlxN6z0zau1qTzHhC/DExTxdSuUuYucphBkyS3Hi9GZ1vDVt7ivpGgv16ak/CHOvHFpdOttgICAgICAgICAgICAg85z+29UOwQt/7nLze6z/vvk2cPZRRxrkTK5LijVcylKjYq5lLjcU6SIIZHRwxOnDXaTJxBGCRz0bG479l28OyZMlIm9uPgonPES63KuPwYhGZIrgtIbJG+12ki4v1EHqPcVyddo8mkvxbtPaV2O8X7KzNWf6ehkMDYzUTNtxAHBjWXFw1ziDc26gNltaLZ8uop6S1umPL3ywvmis8LPJecafErsa0wzsGoxPIPk8tcbhzFyAeRFwtbcdty6SOrnms+f92WPLF27OOcqbDA1r2mWeQamxMsPJBtre4+aL+JO6x2/bMus8eeKx5/2MmSKK/KHSPTV8raeSI00zv2QLmyMcRvpa6ws7ustjXbLl0+OclLdUebGmaLTxLfnzPPxXJFH8H45kidJq4vDtZ1reabqvbNqnWY7W6+OJ44Tky9Ex4LTGsytgoPjBjOMzhxStZq03EhaB5Vja2rs6lr6fQzk1U6ebceMxz+TK1+K9XDZlHHvjCmZVcPha3Pbo167aHlt9Vh2dir1+j+y5px889mWO/VHK3cVps2pzllwhhlN36TUD97/wAWr6BtX3Wjn5fbl166KsQEBAQEBAQEBAQEBBwmfIfl43elFb7rj+a83vMcZIn4NnD2UUUa4kyvSo2KuZSyrY3cKXR5/Cfpt6Wg296yw2j0tertyi3Z510PUtPKahsrI5JNEekPaHfJHUH2v36b+pei33LlxxW1J4jz4a+CInnl3GTslMw+SWRksj+KNOgtaGtaH3b2kkXtfvXF126Tq61pNeOPNfTF0Ty4zo6w+KqxOsdUMbMWGV7RI0PGp1QW6rHYm23rXZ3bNfBo6ejnjt2/JRiiLXnkwemZTZjMMAEcQme0MbsA11NqLQOy55KdRecu1dV/GeP3Kxxl8G3FqZlTmTgztEkQfG3Q7cFraQSBpHZqN7LDDecO09dPCeOf6lo5y8Sj9JlBFS4nSupmNh18GQiMBg1iotqAGwNgPYs9pzXzaK3pJ579/wAjLEReOEjp1/tNL/y7/wCasP4c/k3/ADj9zUd4Z0+JcbLcrCfKp3tgPgJ43M/wuHsUWw+j3atvK0c/3TFucXDquiQ/qyL62b+c5cjfvvk/lC3T+w65zlyIhc0vcsogMmeVNO/qMjvcbfgvoW306dNSPhDnZJ9aXZLdYCAgICAgICAgICAgIObzrS6o2Seg+x8Hf5gLib1j5xRePKfqvwz48OVjYvLzLaSY2KuZSlRsVcyl5fnPLs+Gz/GdAS2PVqeGi/Dc4+UHN643e6/gR6nbtbj1mL7Pn7/X/Nq5KTSeqr0PJOYo8RgErRoka7RNHe+l/PbtaRuD+S4G46G2kzdPlPaV+PJ11cN0Rj9ZV/hJ/UldzfvudPl9FGD25a4v7zu+vP8ARrO//SP/AJ/dH/dbHf3oP1jf6Bqx/wDD/L90z/NaumD/AGlR/Vxf1JU7F9yv8/oZ/bhn01/22ivy0WPh8ICj+H540+Sfj+0mf2oUtd+hjGcOOzS6OaIfutqGEW+xIz7q38fGecOo8+36q59Xqq9A6Jz+rIvrJv5zl5vfY/4yfyhs4PYdW965MQuRKqcNa5x5NBPsF1sYMU3yRWPOWNp4haZEpy2IuPM7nxO5X0SlYrWKx5OdM8y6lZoEBAQEBAQEBAQEBAQR6+mEsboz85tvX1H2qjU4oy4ppPmyrPE8uEEJBIIsQbEd4XgclZpaa28m/HjHgkRsVMyyfMQkfHDLJG0PkZE97Wm9nOa0kNNt+pZYK1yZa1tPETJaeI5hzmRM4MxKKcVQgicw+UzVZpgczzjrO4vqB9S6m47bbSZKTh5nn6qceXrieXL9DTrV9UyEk03DcQd/NbOBCfuly6W/RzpqTb2uY/zVYPang6MauODFK1kzmxOeZmt1kMBc2oJLbnrtv6lO8Y75dFSaRz2+hhmIvPLDDZ2z5kdJCRIwzvIc03BDabS5wPWLjmss9Zx7T028J4/dFfHK2YlO2DMvEmIjjMkZ1ONgA6kDASeoatrrHFWcu09NPGeJ+qZnjLy0dKVXHPidK2F7ZSwQsdoIdZ7qi4bcddiPas9nx2x6K3XHHf6IzTE3jhK6aj+m0X0P/oCq2H7vl/15Syz+1CN000GipiqW7CaExPI9OM8j4tcPuqzYM0XxWxz+Gef1RqI4mJdV0Vu/VsX1k385y5G9/fJ/KF2D2HTySLlxC1V4g8vLYhze65+iD+dveu9sum68vpJ7R9WvntxHD0HBqbhxNb3XXrWonICAgICAgICAgICAgICDncfoLO4rRs7Z30uo+teV3zRTW3pq/NtYL/hlXMYvNTLaSGMWPMjzjHOiGOWV0lLMIGOcXGJ8XEDSeYjIIsO48l6TTfxFNKdOWvMx5+9rW03M+EutyXlGHDI3NY4ySyEGSVwDSbea1oHJoudu8rkbjuV9ZaJmOIjtC3Hj6IUec+jOKulNRDJ8Hmf+0BZxGPI+fYEEO237VvbfvttPSMd45iO3vYZMHV4wn5IyLDhmqTWZ6lzdBkLQ0NZ1tY3e17C5v1Kjct3vq46YjivuZY8MU8X3O+R4cT0v1GGoY3SJA0ODmc9D27XAubHquU23db6T1eOa+73GXFF1VlDo0iopW1E0vwiVm8bRHw2Nd6diSS4dW9lta/fbaik48ccRPefNhjwdM8ym50yb8YzQTcbhcFunTw9er5QPve4tysqNv3P7Jjtj6eeWWTF1Tzyk51y63EYWxF/CcyUSNfp122IItccwfcqtu106TJNuOYnyZZMfVHDHLOEfAaZtNr4mlz3atOm+p5da1z2prdT9pzek44KV6Y4S55gASTYAXJVWPHN7RWO8pmeISMp4eZpDM8bdV+po5Be50emjT4op+rRvbql3wC22D6gICAgICAgICAgICAgIMJYw4FrhcEWIWGTHXJWa27SmJ4c9U0ZjdY7t+ae3/NeD3Pb7aW/h7M9pb2LJ1x8XxrVylzJQCD4pHwoMHFSNbnLKIQ0vesogRpJFZEIRZZFZWvKJlDpad1VIGtvwgdz6RH4L1m17d6KPS5Pa+jUy5OfCHo2G0TYWBo523XbUJaAgICAgICAgICAgICAgICDXNE140uFx/rcKrNhpmpNLxzCYmYnmFLVwGI+V5h5P6vB3YV4rcdmyYJ68fjX6N3Hmi3hLUuJwvfFI+IMHFSNbnLKIQ0vesogRpHqyIQhVFQGi7iAO9bGHDfJbprHLGZiO7RSUctW7SAWxX37XePYO5eq0G1Vw+vk8bfRqZMvV4Q73CMKZA0AAarLsqVkgICAgICAgICAgICAgICAgICDFzQdjYg8wd1AqarCCN6dwb/u33LPsnm33juXJ1ezafP60erPwXUzWqqp6h0e00ckf72kvYfBzfxAXnc+w6nH419aPh3bFc9Z7kdXG/wA17HeDgfcuZfTZqeFqzC2LRL65yr6J90p5aJJAOe3jss647T5SjmFfUYjENtbSexp1H2Bb2Hb9Rk7VlhbJWPNGEk0ptDGfpPFvYAuzptinvln5Qptn/wAK3wzKbnEPnJJ7+rwHUu/g02LDHFI4a9rTPd1tJRsiFmABXsUhAQEBAQEBAQEBAQEBAQEBAQEBAQEHwgHnuEFfVYHTS+fEy/aAAomORAflClPIOb4FYThxz+GE8ywGTaXrBPjYqYx1jtBzKbT5dpmcmD3LNCxip2M81oHgEG1AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEGo1DNxqbdvneUNtr79myDLit7R7R/rqKDGOoY7drmuAt5rg7mARy7iD60FPDmykfNwGudctDmP0O4bwS8HQ+1jbhuueWx7EG+izLRSta5lRD5YuGukY11iLi7SbjYg79o7UGTsw0drieF+17MkY821abgA35oN7cXpi1knGiDJDpYS9o1O9EXPPqsg1HMFFt+k02/L5ePfcjbfuPsQWSAgICAgICAgICAgICAgICAgICAgIKKqyjRSPdK+MmRzi5zhJINy4OPI7bhBohyRQgAOY57mlx1ueQ7e/PTYbX22/FBOp8vU0conYwiRrQ0HUSLCMRjY9jRZBDpMl0UVUa1jHcclzheRxa1z76ixnIXufaUG9+VKIta0xXaxpaAXPPkuaxpad9xaNnsQaYsnUgcXFr3C7XNaZH2a5vzwAfO3O/YSEEmPLNK1rWMa5kbAQxjJZGtDHG7ow0GwYTa7eRsEGLcq0fleQ4lwAcXSSOJAjfGLkm+zJHN8LdgQXQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICD/9k="}),r.a.createElement("div",{className:re.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"Log out")):r.a.createElement(f.b,{to:"/login"},"Login")))},oe=n(44),ue="samurai-network/auth/SET_USER_DATA",ie={userId:null,email:null,login:null,isAuth:!1},se=function(e,t,n,a){return{type:ue,payload:{userId:e,email:t,login:n,isAuth:a}}},le=function(){return function(){var e=Object(h.a)(v.a.mark((function e(t){var n,a,r,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.me();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,c=a.login,o=a.email,t(se(r,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(P.a)({},e,{},t.payload);default:return e}},Ee=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(ce,this.props)}}]),n}(r.a.Component),fe=Object(p.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(h.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.logout();case 2:0===e.sent.data.resultCode&&t(se(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ee),me=n(126),de=n(127),ge=n(74),pe=n(64),be=n(52),ve=n.n(be),he=Object(de.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(me.a,{placeholder:"Email",name:"email",validate:[ge.b],component:pe.a})),r.a.createElement("div",null,r.a.createElement(me.a,{placeholder:"Password",name:"password",validate:[ge.b],component:pe.a,type:"password"})),r.a.createElement("div",null,r.a.createElement(me.a,{component:pe.a,name:"rememberMe",type:"checkbox"}),"remember me"),n&&r.a.createElement("div",{className:ve.a.formSummaryError},n),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),Be=Object(p.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(h.a)(v.a.mark((function a(r){var c,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Q.a.login(e,t,n);case 2:0===(c=a.sent).data.resultCode?r(le()):(o=c.data.messages.length>0?c.data.messages[0]:"Some error",r(Object(oe.a)("login",{_error:o})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(d.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(he,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),Pe={initialized:!1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(P.a)({},e,{initialized:!0});default:return e}},Ie=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(F.a,null)},r.a.createElement(e,t))}},je=r.a.lazy((function(){return n.e(4).then(n.bind(null,298))})),Oe=r.a.lazy((function(){return n.e(3).then(n.bind(null,297))})),Se=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(fe,null),r.a.createElement(m,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(d.b,{path:"/dialogs",render:Ie(je)}),r.a.createElement(d.b,{path:"/profile/:userId?",render:Ie(Oe)}),r.a.createElement(d.b,{path:"/news",render:function(){return r.a.createElement(g,null)}}),r.a.createElement(d.b,{path:"/users",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(d.b,{path:"/login",render:function(){return r.a.createElement(Be,null)}}))):r.a.createElement(F.a,null)}}]),n}(a.Component),Ce=Object(q.d)(d.f,Object(p.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(le());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(Se),we=n(94),ye=n(125),Le={},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;arguments.length>1&&arguments[1];return e},ze=n(138),xe=n(129),He=Object(q.c)({profilePage:we.b,dialogsPage:ye.a,sidebar:Ne,usersPage:L,auth:Ae,form:xe.a,app:Qe}),Te=Object(q.e)(He,Object(q.a)(ze.a));window.store=Te;var Ge=Te;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(f.a,null,r.a.createElement(p.a,{store:Ge},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(135),o=n.n(c);t.a=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:o.a}))}},52:function(e,t,n){e.exports={formControl:"FormsControls_formControl__EJFM1",error:"FormsControls_error__1yukd",formSummaryError:"FormsControls_formSummaryError__1-WRA"}},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(43),r=n(0),c=n.n(r),o=n(52),u=n.n(o),i=function(e){e.input;var t=e.meta,n=(e.child,Object(a.a)(e,["input","meta","child"])),r=t.touched&&t.error;return c.a.createElement("div",{className:u.a.formControl+" "+(r?u.a.error:"")},c.a.createElement("div",null,n.children),r&&c.a.createElement("span",null,t.error))},s=function(e){var t=e.input,n=(e.meta,e.child,Object(a.a)(e,["input","meta","child"]));return c.a.createElement(i,e," ",c.a.createElement("textarea",Object.assign({},t,n))," ")},l=function(e){var t=e.input,n=(e.meta,e.child,Object(a.a)(e,["input","meta","child"]));return c.a.createElement(i,e," ",c.a.createElement("input",Object.assign({},t,n))," ")}},69:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__KMn7z",paginator:"Paginator_paginator__WqqAW",pageNumber:"Paginator_pageNumber__1L7By"}},74:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field isrequired"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},91:function(e,t,n){e.exports={header:"Header_header__3Q1r0",loginBlock:"Header_loginBlock__2-Rba"}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return A}));var a=n(39),r=n(8),c=n(10),o={posts:[{id:1,message:"Hi, how are you?",likesCount:11},{id:2,message:"It's my first post",likesCount:77},{id:3,message:"bla bla bla",likesCount:11},{id:4,message:"da da",likesCount:77}],profile:null,status:""},u=function(e){return{type:"ADD-POST",newPostText:e}},i=function(e){return{type:"SET_STATUS",status:e}},s=function(e){return function(t){c.c.getProfile(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},l=function(e){return function(t){c.b.getStatus(e).then((function(e){t(i(e.data))}))}},A=function(e){return function(t){c.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(i(e))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostText,likesCount:0};return Object(r.a)({},e,{posts:[].concat(Object(a.a)(e.posts),[n]),newPostText:""});case"SET_STATUS":return Object(r.a)({},e,{status:t.status});case"SET_USER_PROFILE":return Object(r.a)({},e,{profile:t.profile});default:return e}}}},[[165,1,2]]]);
//# sourceMappingURL=main.759f6723.chunk.js.map